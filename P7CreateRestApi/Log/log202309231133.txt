09/23/2023 11:33:46 Request starting HTTP/2 POST https://localhost:7210/api/Users/Register application/json 83
09/23/2023 11:33:46 1 candidate(s) found for the request path '"/api/Users/Register"'
09/23/2023 11:33:46 Endpoint '"P7CreateRestApi.Controllers.UsersController.RegisterUser (P7CreateRestApi)"' with route pattern '"api/Users/Register"' is valid for the request path '"/api/Users/Register"'
09/23/2023 11:33:46 Request matched endpoint '"P7CreateRestApi.Controllers.UsersController.RegisterUser (P7CreateRestApi)"'
09/23/2023 11:33:46 Static files was skipped as the request already matched an endpoint.
09/23/2023 11:33:46 AuthenticationScheme: "Bearer" was not authenticated.
09/23/2023 11:33:46 Executing endpoint '"P7CreateRestApi.Controllers.UsersController.RegisterUser (P7CreateRestApi)"'
09/23/2023 11:33:46 Route matched with "{action = \"RegisterUser\", controller = \"Users\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(P7CreateRestApi.Models.RegisterUser)" on controller "P7CreateRestApi.Controllers.UsersController" ("P7CreateRestApi").
09/23/2023 11:33:46 Execution plan of "authorization" filters (in the following order): ["None"]
09/23/2023 11:33:46 Execution plan of "resource" filters (in the following order): ["None"]
09/23/2023 11:33:46 Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
09/23/2023 11:33:46 Execution plan of "exception" filters (in the following order): ["None"]
09/23/2023 11:33:46 Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
09/23/2023 11:33:46 Executing controller factory for controller "P7CreateRestApi.Controllers.UsersController" ("P7CreateRestApi")
09/23/2023 11:33:47 An 'IServiceProvider' was created for internal use by Entity Framework.
09/23/2023 11:33:47 Executed controller factory for controller "P7CreateRestApi.Controllers.UsersController" ("P7CreateRestApi")
09/23/2023 11:33:47 Attempting to bind parameter '"user"' of type '"P7CreateRestApi.Models.RegisterUser"' ...
09/23/2023 11:33:47 Attempting to bind parameter '"user"' of type '"P7CreateRestApi.Models.RegisterUser"' using the name '""' in request data ...
09/23/2023 11:33:47 Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
09/23/2023 11:33:47 Connection id ""0HMTS2VVULTC8"", Request id ""0HMTS2VVULTC8:00000009"": started reading request body.
09/23/2023 11:33:47 Connection id ""0HMTS2VVULTC8"", Request id ""0HMTS2VVULTC8:00000009"": done reading request body.
09/23/2023 11:33:47 JSON input formatter succeeded, deserializing to type '"P7CreateRestApi.Models.RegisterUser"'
09/23/2023 11:33:47 Done attempting to bind parameter '"user"' of type '"P7CreateRestApi.Models.RegisterUser"'.
09/23/2023 11:33:47 Done attempting to bind parameter '"user"' of type '"P7CreateRestApi.Models.RegisterUser"'.
09/23/2023 11:33:47 Attempting to validate the bound parameter '"user"' of type '"P7CreateRestApi.Models.RegisterUser"' ...
09/23/2023 11:33:47 Done attempting to validate the bound parameter '"user"' of type '"P7CreateRestApi.Models.RegisterUser"'.
09/23/2023 11:33:47 Executing action method "P7CreateRestApi.Controllers.UsersController.RegisterUser (P7CreateRestApi)" - Validation state: Valid
09/23/2023 11:33:48 The index "{'UserId'}" was not created on entity type '"IdentityUserRole<string>"' as the properties are already covered by the index "{'UserId', 'RoleId'}".
09/23/2023 11:33:48 The index "{'UserId'}" was not created on entity type '"IdentityUserToken<string>"' as the properties are already covered by the index "{'UserId', 'LoginProvider', 'Name'}".
09/23/2023 11:33:48 Entity Framework Core "7.0.10" initialized '"UsersDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"7.0.10"' with options: "None"
09/23/2023 11:33:48 Compiling query expression: "
"'"DbSet<IdentityUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)"'
09/23/2023 11:33:48 Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUser>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Email (string) MaxLength(256), 3], [Property: IdentityUser.EmailConfirmed (bool) Required, 4], [Property: IdentityUser.LockoutEnabled (bool) Required, 5], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 6], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: IdentityUser.PasswordHash (string), 9], [Property: IdentityUser.PhoneNumber (string), 10], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 11], [Property: IdentityUser.SecurityStamp (string), 12], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 13], [Property: IdentityUser.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUser>, 
        P7CreateRestApi.Data.UsersDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
09/23/2023 11:33:49 Creating DbCommand for '"ExecuteReader"'.
09/23/2023 11:33:49 Creating DbConnection.
09/23/2023 11:33:49 Created DbConnection. (56ms).
09/23/2023 11:33:49 Created DbCommand for '"ExecuteReader"' (72ms).
09/23/2023 11:33:49 Initialized DbCommand for '"ExecuteReader"' (98ms).
09/23/2023 11:33:49 Opening connection to database '"Users"' on server '"(localdb)\mssqllocaldb"'.
09/23/2023 11:33:51 Opened connection to database '"Users"' on server '"(localdb)\mssqllocaldb"'.
09/23/2023 11:33:51 Executing DbCommand [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
09/23/2023 11:33:51 Executed DbCommand ("165"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
09/23/2023 11:33:51 Closing data reader to '"Users"' on server '"(localdb)\mssqllocaldb"'.
09/23/2023 11:33:52 A data reader for '"Users"' on server '"(localdb)\mssqllocaldb"' is being disposed after spending 38ms reading results.
09/23/2023 11:33:52 Closing connection to database '"Users"' on server '"(localdb)\mssqllocaldb"'.
09/23/2023 11:33:52 Closed connection to database '"Users"' on server '"(localdb)\mssqllocaldb"' (11ms).
09/23/2023 11:33:52 Context '"UsersDbContext"' started tracking '"IdentityUser"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
09/23/2023 11:33:52 SaveChanges starting for '"UsersDbContext"'.
09/23/2023 11:33:52 DetectChanges starting for '"UsersDbContext"'.
09/23/2023 11:33:52 DetectChanges completed for '"UsersDbContext"'.
09/23/2023 11:33:52 Opening connection to database '"Users"' on server '"(localdb)\mssqllocaldb"'.
09/23/2023 11:33:52 Opened connection to database '"Users"' on server '"(localdb)\mssqllocaldb"'.
09/23/2023 11:33:52 Creating DbCommand for '"ExecuteReader"'.
09/23/2023 11:33:52 Created DbCommand for '"ExecuteReader"' (0ms).
09/23/2023 11:33:52 Initialized DbCommand for '"ExecuteReader"' (0ms).
09/23/2023 11:33:52 Executing DbCommand [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
09/23/2023 11:33:52 Executed DbCommand ("18"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);"
09/23/2023 11:33:52 Closing data reader to '"Users"' on server '"(localdb)\mssqllocaldb"'.
09/23/2023 11:33:52 A data reader for '"Users"' on server '"(localdb)\mssqllocaldb"' is being disposed after spending 10ms reading results.
09/23/2023 11:33:52 Closing connection to database '"Users"' on server '"(localdb)\mssqllocaldb"'.
09/23/2023 11:33:52 Closed connection to database '"Users"' on server '"(localdb)\mssqllocaldb"' (0ms).
09/23/2023 11:33:52 An entity of type '"IdentityUser"' tracked by '"UsersDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
09/23/2023 11:33:52 SaveChanges completed for '"UsersDbContext"' with 1 entities written to the database.
09/23/2023 11:33:52 Executed action method "P7CreateRestApi.Controllers.UsersController.RegisterUser (P7CreateRestApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4967.7828ms.
09/23/2023 11:33:52 List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
09/23/2023 11:33:52 No information found on request to perform content negotiation.
09/23/2023 11:33:52 Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
09/23/2023 11:33:52 Attempting to select the first formatter in the output formatters list which can write the result.
09/23/2023 11:33:52 Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter"' and content type '"text/plain"' to write the response.
09/23/2023 11:33:52 Executing "OkObjectResult", writing value of type '"System.String"'.
09/23/2023 11:33:52 Executed action "P7CreateRestApi.Controllers.UsersController.RegisterUser (P7CreateRestApi)" in 5434.9189ms
09/23/2023 11:33:52 Executed endpoint '"P7CreateRestApi.Controllers.UsersController.RegisterUser (P7CreateRestApi)"'
09/23/2023 11:33:52 HTTP "POST" "/api/Users/Register" responded 200 in 5682.7421 ms
09/23/2023 11:33:52 '"UsersDbContext"' disposed.
09/23/2023 11:33:52 Disposing connection to database '"Users"' on server '"(localdb)\mssqllocaldb"'.
09/23/2023 11:33:52 Disposed connection to database '""' on server '""' (2ms).
09/23/2023 11:33:52 Request finished HTTP/2 POST https://localhost:7210/api/Users/Register application/json 83 - 200 - text/plain;+charset=utf-8 5757.7659ms
